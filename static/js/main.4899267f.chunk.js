(this["webpackJsonpalpha-beta-visualization"]=this["webpackJsonpalpha-beta-visualization"]||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){},124:function(e,t,n){},127:function(e,t,n){},131:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),s=(n(121),n(122),n(9)),o=n(8),l=n(32),u=n(18),d=n(14),j=(n(123),n(124),n(40),n(2)),b=function(e){return Object(j.jsx)(o.a,{className:"control-container",children:e.buttons.map((function(e){return Object(j.jsx)(d.a,{onClick:e.onClick,disabled:e.disabled,active:e.active,variant:e.variant||"outline-dark",className:"control-btn",style:e.style,children:e.text})}))})},f=n(10),h=(n(127),function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=n,c=.99*(r>a?a:r)/2,i=f.e();function s(e){var n=e.transform;f.d(t.current).select("g").attr("transform","translate(".concat(n.x+r/2,",").concat(n.y+a/2,") scale(").concat(n.k,")"))}i.size([2*Math.PI,c]);!function(e){var n=f.a(e),c=i(n),o=n.descendants(),l=c.links(),u=f.d(t.current);u.selectAll("*").remove(),u.attr("width",r).attr("height",a);var d=u.append("g").attr("stroke-opacity",.4).attr("stroke-width",1.5).attr("transform","translate("+r/2+","+a/2+")").style("transform-origin","-50% -50% 0"),j=f.f().on("zoom",s);u.call(j);var b=d.selectAll(".link").data(l);b.enter().append("path").attr("class","link").attr("d",f.b().angle((function(e){return e.x})).radius((function(e){return e.y}))).style("opacity",0).transition().duration(300).delay((function(e,t){return 2*t/Math.exp(e.source.depth+1)})).style("opacity",1);b.transition().duration(750).attr("d",f.b().angle((function(e){return e.x})).radius((function(e){return e.y}))),b.exit().transition().duration(750).attr("d",f.b().angle((function(e){return e.x})).radius((function(e){return e.y}))).remove();var h=d.selectAll("circle").data(o).enter().append("g");h.append("circle").attr("r",5).attr("stroke",(function(e){return"w"===e.data.side||"b"===e.data.side?"#000":"#626E98"})).attr("fill",(function(e){return"w"===e.data.side?"#fff":"b"===e.data.side?"#000":"#626E98"})).attr("transform",(function(e){return"translate("+f.c(e.x,e.y)+")"})),h.append("text").attr("text-anchor","start").text((function(e){return e.data.move})).style("fill-opacity",1e-6).attr("text-anchor",(function(e){return 180*e.x/Math.PI<180?"start":"end"})).attr("dominant-baseline","middle").attr("transform",(function(e){var t=180*e.x/Math.PI,n=t<180?-(90-t):-(270-t);return"translate(".concat(f.c(e.x,e.y+10),")rotate(").concat(n,")")})).transition().duration(750).style("fill-opacity",1)}(e.moveTree)}),[e.moveTree]),Object(j.jsx)("div",{className:"tree-container",children:Object(j.jsx)("svg",{ref:t})})}),m=n(41),O=n(42),x=n.n(O),p=n(43);var g=new(n.n(p).a),v=new function(){return new Worker(n.p+"static/js/treeGenerator.worker.c88a1ed5.worker.js")},T=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],c=n[1],i=e.depth;Object(a.useEffect)((function(){g.clear(),c(g.fen())}),[]),Object(a.useEffect)((function(){var t=function(t){t&&t.data&&("progress"===t.data.msg&&e.setProgressTreeGen(Number((100*t.data.value).toFixed(0))),"moveTree"===t.data.msg&&(e.setMoveTree(t.data.value),e.setProgressTreeGen(100),e.onSearchEnd()),"log"===t.data.msg&&console.log(t.data.value))};return e.onSearchStart((function(){e.setMoveTree({children:[]}),e.setShowTree(!1),e.setProgressTreeGen(0),v.postMessage({msg:"generate",maxDepth:Number(i),gameState:r})})),v.addEventListener("message",t),function(){v.removeEventListener("message",t)}}),[e,i,r]);var o={calcWidth:function(e){var t=e.screenWidth,n=e.screenHeight;return(t||n)<550?200:300},position:r,sparePieces:!0,dropOffBoard:"trash",boardStyle:{border:"1px solid black",boxSizing:"content-box"},getPosition:function(e){c((function(t){return g.clear(),Object.entries(e).forEach((function(e){g.put({type:e[1][1].toLowerCase(),color:e[1][0]},e[0])})),g.fen()}))}};return Object(j.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(j.jsx)(x.a,Object(m.a)({},o))})},y=(n(131),function(e){return Object(j.jsxs)(o.a,{style:e.style,className:"info-container",children:[Object(j.jsx)("span",{children:e.text}),e.children]})}),E={ALPHA_BETA_ALGORITHM_VISUALIZATION:"\u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 \u0430\u043b\u044c\u0444\u0430-\u0431\u0435\u0442\u0430",FIRST_SCREEN_DESCRIPTION:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 \u0438 \u0433\u043b\u0443\u0431\u0438\u043d\u0443 \u043f\u043e\u0438\u0441\u043a\u0430, \u0437\u0430\u0442\u0435\u043c \u0440\u0430\u0441\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0444\u0438\u0433\u0443\u0440\u044b \u043d\u0430 \u0434\u043e\u0441\u043a\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u0433\u0435\u043d\u0438\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u0440\u0435\u0432\u043e \u0445\u043e\u0434\u043e\u0432 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f",GENERATING_TREE_MSG:"\u041f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u0434\u0435\u0440\u0435\u0432\u0430...",ALPHA_BETA:"\u0410\u043b\u044c\u0444\u0430-\u0431\u0435\u0442\u0430",MINIMAX:"\u041c\u0438\u043d\u0438\u043c\u0430\u043a\u0441",START_BUTTON:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0435\u0440\u0435\u0432\u043e \u0445\u043e\u0434\u043e\u0432",SEARCH_DEPTH:"\u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u043f\u043e\u0438\u0441\u043a\u0430:",INVALID_DEPTH:"\u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 - \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0442 1 \u0434\u043e 5"},S=n(44),A=n(23),N=n(24),I=function(e){return Object(j.jsxs)(S.a,{onSubmit:function(e){e.preventDefault()},style:{display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap"},children:[Object(j.jsx)(N.a,{style:{margin:".5rem",lineHeight:"31px",verticalAlign:"middle"},children:E.SEARCH_DEPTH}),Object(j.jsx)(A.a,{as:"input",size:"sm",type:"number",value:e.depth,isValid:e.isDepthValid,onChange:e.onDepthChange,style:{width:100,margin:".5rem"}}),!e.isDepthValid&&Object(j.jsx)("div",{style:{color:"red",width:"100%",textAlign:"center"},children:E.INVALID_DEPTH})]})},w=n(45),_=(n(135),function(e){return Object(j.jsxs)(o.a,{className:"progress-container",children:[Object(j.jsx)(w.a,{animated:!0,now:e.progressTreeGen}),Object(j.jsxs)("h2",{children:[e.progressTreeGen,"%"]})]})}),k=n(19),H=(n(136),function(e){return Object(j.jsxs)(k.a,{centered:!1,dialogClassName:"custom-modal",show:e.show,onHide:e.onHide,children:[Object(j.jsx)(k.a.Header,{closeButton:!0,children:Object(j.jsx)(k.a.Title,{children:e.msg})}),Object(j.jsx)(k.a.Body,{style:{padding:0},children:e.children})]})}),P="#626E98",C=function(){var e=Object(a.useState)("minimax"),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(3),i=Object(s.a)(c,2),f=i[0],m=i[1],O=Object(a.useState)(0),x=Object(s.a)(O,2),p=x[0],g=x[1],v=Object(a.useState)({children:[]}),S=Object(s.a)(v,2),A=S[0],N=S[1],w=Object(a.useState)(!1),k=Object(s.a)(w,2),C=k[0],D=k[1],M=Object(a.useState)(!1),R=Object(s.a)(M,2),G=R[0],L=R[1],B=Object(a.useState)(!1),V=Object(s.a)(B,2),F=V[0],W=V[1],z=Object(a.useState)(""),U=Object(s.a)(z,2),J=U[0],X=U[1],Z=function(e){r(e)},q=function(){return K(f)&&n},K=function(e){return!Number.isNaN(parseInt(e))&&e<6&&e>=1},Q=function(){};Object(a.useEffect)((function(){}),[]);var Y={minimax:E.MINIMAX,alphaBeta:E.ALPHA_BETA};return Object(j.jsxs)(o.a,{fluid:!0,className:"viewer__container",children:[Object(j.jsx)(l.a,{children:Object(j.jsx)(u.a,{children:Object(j.jsx)(o.a,{fluid:!0,className:"viewer__title",children:Object(j.jsx)("h2",{style:{padding:"1rem"},children:E.ALPHA_BETA_ALGORITHM_VISUALIZATION})})})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(u.a,{children:Object(j.jsxs)(o.a,{className:"viewer",children:[Object(j.jsx)(y,{text:E.FIRST_SCREEN_DESCRIPTION}),Object(j.jsx)(b,{buttons:["minimax","alphaBeta"].map((function(e){return{text:Y[e],active:n===e,onClick:Z.bind(null,e),style:{background:n===e?P:"initial"}}}))}),Object(j.jsx)(I,{isDepthValid:K(f),depth:f,onDepthChange:function(e){m(e.target.value)}}),Object(j.jsx)(T,{algo:n,depth:f,setMoveTree:N,onSearchStart:function(e){Q=e},onSearchEnd:function(){X(Y[n]),setTimeout((function(){D(!1),L(!0)}),500)},setShowTree:L,setProgressTreeGen:g}),Object(j.jsx)(o.a,{className:"control-container",children:Object(j.jsx)(d.a,{onClick:function(){Q(),W(!0),D(!0),X(E.GENERATING_TREE_MSG)},active:q(),disabled:!q(),variant:"outline-dark",className:"control-btn",style:{background:P,marginTop:"1rem"},children:E.START_BUTTON})}),Object(j.jsxs)(H,{show:F,onHide:function(){W(!1)},msg:J,children:[G&&Object(j.jsx)(h,{moveTree:A}),C&&Object(j.jsx)(_,{progressTreeGen:p})]})]})})})]})},D=function(){return Object(j.jsx)("header",{className:"App-header"})};var M=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(D,{}),Object(j.jsx)(C,{})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,139)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(M,{})}),document.getElementById("root")),R()},40:function(e,t,n){}},[[137,1,2]]]);
//# sourceMappingURL=main.4899267f.chunk.js.map