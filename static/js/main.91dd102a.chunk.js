(this["webpackJsonpalpha-beta-visualization"]=this["webpackJsonpalpha-beta-visualization"]||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},125:function(e,t,n){},128:function(e,t,n){},132:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),s=(n(122),n(123),n(9)),o=n(8),l=n(32),u=n(18),d=n(14),j=(n(124),n(125),n(40),n(2)),b=function(e){return Object(j.jsx)(o.a,{className:"control-container",children:e.buttons.map((function(e){return Object(j.jsx)(d.a,{onClick:e.onClick,disabled:e.disabled,active:e.active,variant:e.variant||"outline-dark",className:"control-btn",style:e.style,children:e.text})}))})},f=n(10),h=n(41),O=n.n(h),m=(n(128),O.a.Component),x=function(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=t,r=.99*(a>n?n:a)/2,i=f.e();function s(e){var t=e.transform;f.d(".tree-container > svg").select(".tree-container > svg > g").attr("transform","translate(".concat(t.x+a/2,",").concat(t.y+n/2,") scale(").concat(t.k,")"))}i.size([2*Math.PI,r]);!function(e){var t=f.a(e),r=i(t),o=t.descendants(),l=r.links(),u=document.createElement("div");c(u);var d=f.d(u).attr("class","tree-container").append("svg").attr("width",a).attr("height",n),j=d.append("g").attr("stroke-opacity",.4).attr("stroke-width",1.5).attr("transform","translate("+a/2+","+n/2+")").style("transform-origin","-50% -50% 0"),b=f.f().on("zoom",s);d.call(b);var h=j.selectAll(".link").data(l);h.enter().append("path").attr("class","link").attr("d",f.b().angle((function(e){return e.x})).radius((function(e){return e.y})));h.transition().duration(750).attr("d",f.b().angle((function(e){return e.x})).radius((function(e){return e.y}))),h.exit().transition().duration(750).attr("d",f.b().angle((function(e){return e.x})).radius((function(e){return e.y}))).remove(),j.selectAll("circle").data(o).enter().append("g").append("circle").attr("r",5).attr("stroke",(function(e){return"w"===e.data.side||"b"===e.data.side?"#000":"#626E98"})).attr("fill",(function(e){return"w"===e.data.side?"#fff":"b"===e.data.side?"#000":"#626E98"})).attr("transform",(function(e){return"translate("+f.c(e.x,e.y)+")"}))}(e.moveTree)}),[e.moveTree]),Object(a.useEffect)((function(){requestAnimationFrame((function(){setTimeout((function(){e.setShowProgressBar(!1)}),0)}))}),[]),Object(j.jsx)(m,{data:r})},g=n(42),p=n(43),v=n.n(p),T=n(44);var E=new(n.n(T).a),S=new function(){return new Worker(n.p+"static/js/treeGenerator.worker.c88a1ed5.worker.js")},A=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],c=n[1],i=e.depth;Object(a.useEffect)((function(){E.clear(),c(E.fen())}),[]),Object(a.useEffect)((function(){var t=function(t){t&&t.data&&("progress"===t.data.msg&&e.setProgressTreeGen(Number((100*t.data.value).toFixed(0))),"moveTree"===t.data.msg&&(e.setMoveTree(t.data.value),e.setShowTree(!0),e.onSearchEnd(),console.log(t.data.value)),"log"===t.data.msg&&console.log(t.data.value))};return e.onSearchStart((function(){e.setMoveTree({children:[]}),e.setShowTree(!1),e.setProgressTreeGen(0),S.postMessage({msg:"generate",maxDepth:Number(i),gameState:r})})),S.addEventListener("message",t),function(){S.removeEventListener("message",t)}}),[e,i,r]);var o={calcWidth:function(e){var t=e.screenWidth,n=e.screenHeight;return(t||n)<550?200:300},position:r,sparePieces:!0,dropOffBoard:"trash",boardStyle:{border:"1px solid black",boxSizing:"content-box"},getPosition:function(e){c((function(t){return E.clear(),Object.entries(e).forEach((function(e){E.put({type:e[1][1].toLowerCase(),color:e[1][0]},e[0])})),E.fen()}))}};return Object(j.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(j.jsx)(v.a,Object(g.a)({},o))})},N=(n(132),function(e){return Object(j.jsxs)(o.a,{style:e.style,className:"info-container",children:[Object(j.jsx)("span",{children:e.text}),e.children]})}),w={ALPHA_BETA_ALGORITHM_VISUALIZATION:"\u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 \u0430\u043b\u044c\u0444\u0430-\u0431\u0435\u0442\u0430",FIRST_SCREEN_DESCRIPTION:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 \u0438 \u0433\u043b\u0443\u0431\u0438\u043d\u0443 \u043f\u043e\u0438\u0441\u043a\u0430, \u0437\u0430\u0442\u0435\u043c \u0440\u0430\u0441\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0444\u0438\u0433\u0443\u0440\u044b \u043d\u0430 \u0434\u043e\u0441\u043a\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u0433\u0435\u043d\u0438\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u0440\u0435\u0432\u043e \u0445\u043e\u0434\u043e\u0432 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f",GENERATING_TREE_MSG:"\u041f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u0434\u0435\u0440\u0435\u0432\u0430...",ALPHA_BETA:"\u0410\u043b\u044c\u0444\u0430-\u0431\u0435\u0442\u0430",MINIMAX:"\u041c\u0438\u043d\u0438\u043c\u0430\u043a\u0441",START_BUTTON:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0435\u0440\u0435\u0432\u043e \u0445\u043e\u0434\u043e\u0432",SEARCH_DEPTH:"\u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u043f\u043e\u0438\u0441\u043a\u0430:",INVALID_DEPTH:"\u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 - \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0442 1 \u0434\u043e 5"},y=n(45),I=n(23),_=n(24),k=function(e){return Object(j.jsxs)(y.a,{onSubmit:function(e){e.preventDefault()},style:{display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap"},children:[Object(j.jsx)(_.a,{style:{margin:".5rem",lineHeight:"31px",verticalAlign:"middle"},children:w.SEARCH_DEPTH}),Object(j.jsx)(I.a,{as:"input",size:"sm",type:"number",value:e.depth,isValid:e.isDepthValid,onChange:e.onDepthChange,style:{width:100,margin:".5rem"}}),!e.isDepthValid&&Object(j.jsx)("div",{style:{color:"red",width:"100%",textAlign:"center"},children:w.INVALID_DEPTH})]})},H=n(46),C=(n(136),function(e){return Object(j.jsxs)(o.a,{className:"progress-container",children:[Object(j.jsx)(H.a,{now:e.progressTreeGen}),Object(j.jsxs)("h2",{children:[e.progressTreeGen,"%"]})]})}),P=n(19),D=(n(137),function(e){return Object(j.jsxs)(P.a,{centered:!1,dialogClassName:"custom-modal",show:e.show,onHide:e.onHide,children:[Object(j.jsx)(P.a.Header,{closeButton:!0,children:Object(j.jsx)(P.a.Title,{children:e.msg})}),Object(j.jsx)(P.a.Body,{style:{padding:0},children:e.children})]})}),R="#626E98",B=function(){var e=Object(a.useState)("minimax"),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(3),i=Object(s.a)(c,2),f=i[0],h=i[1],O=Object(a.useState)(0),m=Object(s.a)(O,2),g=m[0],p=m[1],v=Object(a.useState)({children:[]}),T=Object(s.a)(v,2),E=T[0],S=T[1],y=Object(a.useState)(!1),I=Object(s.a)(y,2),_=I[0],H=I[1],P=Object(a.useState)(!1),B=Object(s.a)(P,2),G=B[0],L=B[1],M=Object(a.useState)(!1),F=Object(s.a)(M,2),V=F[0],W=F[1],z=Object(a.useState)(""),U=Object(s.a)(z,2),J=U[0],X=U[1],Z=function(e){r(e)},q=function(){return K(f)&&n},K=function(e){return!Number.isNaN(parseInt(e))&&e<6&&e>=1},Q=function(){};Object(a.useEffect)((function(){}),[]);var Y={minimax:w.MINIMAX,alphaBeta:w.ALPHA_BETA};return Object(j.jsxs)(o.a,{fluid:!0,className:"viewer__container",children:[Object(j.jsx)(l.a,{children:Object(j.jsx)(u.a,{children:Object(j.jsx)(o.a,{fluid:!0,className:"viewer__title",children:Object(j.jsx)("h2",{style:{padding:"1rem"},children:w.ALPHA_BETA_ALGORITHM_VISUALIZATION})})})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(u.a,{children:Object(j.jsxs)(o.a,{className:"viewer",children:[Object(j.jsx)(N,{text:w.FIRST_SCREEN_DESCRIPTION}),Object(j.jsx)(b,{buttons:["minimax","alphaBeta"].map((function(e){return{text:Y[e],active:n===e,onClick:Z.bind(null,e),style:{background:n===e?R:"initial"}}}))}),Object(j.jsx)(k,{isDepthValid:K(f),depth:f,onDepthChange:function(e){h(e.target.value)}}),Object(j.jsx)(A,{algo:n,depth:f,setMoveTree:S,onSearchStart:function(e){Q=e},onSearchEnd:function(){X(Y[n])},setShowTree:L,setProgressTreeGen:p}),Object(j.jsx)(o.a,{className:"control-container",children:Object(j.jsx)(d.a,{onClick:function(){Q(),W(!0),H(!0),X(w.GENERATING_TREE_MSG)},active:q(),disabled:!q(),variant:"outline-dark",className:"control-btn",style:{background:R,marginTop:"1rem"},children:w.START_BUTTON})}),Object(j.jsxs)(D,{show:V,onHide:function(){W(!1)},msg:J,children:[G&&Object(j.jsx)(x,{moveTree:E,setShowProgressBar:H}),_&&Object(j.jsx)(C,{progressTreeGen:g})]})]})})})]})},G=function(){return Object(j.jsx)("header",{className:"App-header"})};var L=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(G,{}),Object(j.jsx)(B,{})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root")),M()},40:function(e,t,n){}},[[138,1,2]]]);
//# sourceMappingURL=main.91dd102a.chunk.js.map