!function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="/alpha-beta-visualization/",n(n.s=1)}([function(e,r,n){var t,o=n(2),i=function(e){var r="b",n="w",t=-1,i="p",u="b",a="k",f="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",l=["1-0","0-1","1/2-1/2","*"],c={b:[16,32,17,15],w:[-16,-32,-17,-15]},s={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},p=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],v=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],g={p:0,n:1,b:2,r:3,q:4,k:5},h={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},d={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},m={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},b={w:[{square:m.a1,flag:d.QSIDE_CASTLE},{square:m.h1,flag:d.KSIDE_CASTLE}],b:[{square:m.a8,flag:d.QSIDE_CASTLE},{square:m.h8,flag:d.KSIDE_CASTLE}]},y=new Array(128),E={w:t,b:t},_=n,S={w:0,b:0},A=t,C=0,w=1,T=[],I={},P={};function O(e){"undefined"===typeof e&&(e=!1),y=new Array(128),E={w:t,b:t},_=n,S={w:0,b:0},A=t,C=0,w=1,T=[],e||(I={}),P={},D(x())}function R(){for(var e=[],r={},n=function(e){e in P&&(r[e]=P[e])};T.length>0;)e.push(V());for(n(x());e.length>0;)J(e.pop()),n(x());P=r}function L(){N(f)}function N(e,o){"undefined"===typeof o&&(o=!1);var i=e.split(/\s+/),u=i[0],a=0;if(!k(e).valid)return!1;O(o);for(var f=0;f<u.length;f++){var l=u.charAt(f);if("/"===l)a+=8;else if(-1!=="0123456789".indexOf(l))a+=parseInt(l,10);else{var c=l<"a"?n:r;j({type:l.toLowerCase(),color:c},re(a)),a++}}return _=i[1],i[2].indexOf("K")>-1&&(S.w|=d.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(S.w|=d.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(S.b|=d.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(S.b|=d.QSIDE_CASTLE),A="-"===i[3]?t:m[i[3]],C=parseInt(i[4],10),w=parseInt(i[5],10),D(x()),!0}function k(e){var r="No errors.",n="FEN string must contain six space-delimited fields.",t="6th field (move number) must be a positive integer.",o="5th field (half move counter) must be a non-negative integer.",i="4th field (en-passant square) is invalid.",u="3rd field (castling availability) is invalid.",a="2nd field (side to move) is invalid.",f="1st field (piece positions) does not contain 8 '/'-delimited rows.",l="1st field (piece positions) is invalid [consecutive numbers].",c="1st field (piece positions) is invalid [invalid piece].",s="1st field (piece positions) is invalid [row too large].",p="Illegal en-passant square",v=e.split(/\s+/);if(6!==v.length)return{valid:!1,error_number:1,error:n};if(isNaN(v[5])||parseInt(v[5],10)<=0)return{valid:!1,error_number:2,error:t};if(isNaN(v[4])||parseInt(v[4],10)<0)return{valid:!1,error_number:3,error:o};if(!/^(-|[abcdefgh][36])$/.test(v[3]))return{valid:!1,error_number:4,error:i};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(v[2]))return{valid:!1,error_number:5,error:u};if(!/^(w|b)$/.test(v[1]))return{valid:!1,error_number:6,error:a};var g=v[0].split("/");if(8!==g.length)return{valid:!1,error_number:7,error:f};for(var h=0;h<g.length;h++){for(var d=0,m=!1,b=0;b<g[h].length;b++)if(isNaN(g[h][b])){if(!/^[prnbqkPRNBQK]$/.test(g[h][b]))return{valid:!1,error_number:9,error:c};d+=1,m=!1}else{if(m)return{valid:!1,error_number:8,error:l};d+=parseInt(g[h][b],10),m=!0}if(8!==d)return{valid:!1,error_number:10,error:s}}return"3"==v[3][1]&&"w"==v[1]||"6"==v[3][1]&&"b"==v[1]?{valid:!1,error_number:11,error:p}:{valid:!0,error_number:0,error:r}}function x(){for(var e=0,r="",o=m.a8;o<=m.h1;o++){if(null==y[o])e++;else{e>0&&(r+=e,e=0);var i=y[o].color,u=y[o].type;r+=i===n?u.toUpperCase():u.toLowerCase()}o+1&136&&(e>0&&(r+=e),o!==m.h1&&(r+="/"),e=0,o+=8)}var a="";S.w&d.KSIDE_CASTLE&&(a+="K"),S.w&d.QSIDE_CASTLE&&(a+="Q"),S.b&d.KSIDE_CASTLE&&(a+="k"),S.b&d.QSIDE_CASTLE&&(a+="q"),a=a||"-";var f=A===t?"-":re(A);return[r,_,a,f,C,w].join(" ")}function q(e){for(var r=0;r<e.length;r+=2)"string"===typeof e[r]&&"string"===typeof e[r+1]&&(I[e[r]]=e[r+1]);return I}function D(e){T.length>0||(e!==f?(I.SetUp="1",I.FEN=e):(delete I.SetUp,delete I.FEN))}function U(e){var r=y[m[e]];return r?{type:r.type,color:r.color}:null}function j(e,r){if(!("type"in e)||!("color"in e))return!1;if(-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase()))return!1;if(!(r in m))return!1;var n=m[r];return(e.type!=a||E[e.color]==t||E[e.color]==n)&&(y[n]={type:e.type,color:e.color},e.type===a&&(E[e.color]=n),D(x()),!0)}function K(e,r,n,t,o){var u={color:_,from:r,to:n,flags:t,piece:e[r].type};return o&&(u.flags|=d.PROMOTION,u.promotion=o),e[n]?u.captured=e[n].type:t&d.EP_CAPTURE&&(u.captured=i),u}function Q(e){function r(e,r,n,t,o){if(e[n].type!==i||0!==Y(t)&&7!==Y(t))r.push(K(e,n,t,o));else for(var a=["q","r",u,"n"],f=0,l=a.length;f<l;f++)r.push(K(e,n,t,o,a[f]))}var n=[],t=_,o=ne(t),f={b:1,w:6},l=m.a8,p=m.h1,v=!1,g="undefined"===typeof e||!("legal"in e)||e.legal,h="undefined"===typeof e||!("piece"in e)||"string"!==typeof e.piece||e.piece.toLowerCase();if("undefined"!==typeof e&&"square"in e){if(!(e.square in m))return[];l=p=m[e.square],v=!0}for(var b=l;b<=p;b++)if(136&b)b+=7;else{var C=y[b];if(null!=C&&C.color===t)if(C.type!==i||!0!==h&&h!==i){if(!0===h||h===C.type)for(var w=0,T=s[C.type].length;w<T;w++){var I=s[C.type][w];for(P=b;!(136&(P+=I));){if(null!=y[P]){if(y[P].color===t)break;r(y,n,b,P,d.CAPTURE);break}if(r(y,n,b,P,d.NORMAL),"n"===C.type||"k"===C.type)break}}}else{var P=b+c[t][0];if(null==y[P]){r(y,n,b,P,d.NORMAL);var P=b+c[t][1];f[t]===Y(b)&&null==y[P]&&r(y,n,b,P,d.BIG_PAWN)}for(w=2;w<4;w++){136&(P=b+c[t][w])||(null!=y[P]&&y[P].color===o?r(y,n,b,P,d.CAPTURE):P===A&&r(y,n,b,A,d.EP_CAPTURE))}}}if((!0===h||h===a)&&(!v||p===E[t])){if(S[t]&d.KSIDE_CASTLE){var O=(R=E[t])+2;null!=y[R+1]||null!=y[O]||$(o,E[t])||$(o,R+1)||$(o,O)||r(y,n,E[t],O,d.KSIDE_CASTLE)}if(S[t]&d.QSIDE_CASTLE){var R;O=(R=E[t])-2;null!=y[R-1]||null!=y[R-2]||null!=y[R-3]||$(o,E[t])||$(o,R-1)||$(o,O)||r(y,n,E[t],O,d.QSIDE_CASTLE)}}if(!g)return n;var L=[];for(b=0,T=n.length;b<T;b++)J(n[b]),W(t)||L.push(n[b]),V();return L}function M(e,r){var n="";if(e.flags&d.KSIDE_CASTLE)n="O-O";else if(e.flags&d.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==i){var t=function(e,r){for(var n=e.from,t=e.to,o=e.piece,i=0,u=0,a=0,f=0,l=r.length;f<l;f++){var c=r[f].from,s=r[f].to;o===r[f].piece&&n!==c&&t===s&&(i++,Y(n)===Y(c)&&u++,ee(n)===ee(c)&&a++)}if(i>0)return u>0&&a>0?re(n):a>0?re(n).charAt(1):re(n).charAt(0);return""}(e,r);n+=e.piece.toUpperCase()+t}e.flags&(d.CAPTURE|d.EP_CAPTURE)&&(e.piece===i&&(n+=re(e.from)[0]),n+="x"),n+=re(e.to),e.flags&d.PROMOTION&&(n+="="+e.promotion.toUpperCase())}return J(e),F()&&(G()?n+="#":n+="+"),V(),n}function B(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function $(e,t){for(var o=m.a8;o<=m.h1;o++)if(136&o)o+=7;else if(null!=y[o]&&y[o].color===e){var u=y[o],a=o-t,f=a+119;if(p[f]&1<<g[u.type]){if(u.type===i){if(a>0){if(u.color===n)return!0}else if(u.color===r)return!0;continue}if("n"===u.type||"k"===u.type)return!0;for(var l=v[f],c=o+l,s=!1;c!==t;){if(null!=y[c]){s=!0;break}c+=l}if(!s)return!0}}return!1}function W(e){return $(ne(e),E[e])}function F(){return W(_)}function G(){return F()&&0===Q().length}function z(){return!F()&&0===Q().length}function H(){for(var e={},r=[],n=0,t=0,o=m.a8;o<=m.h1;o++)if(t=(t+1)%2,136&o)o+=7;else{var i=y[o];i&&(e[i.type]=i.type in e?e[i.type]+1:1,i.type===u&&r.push(t),n++)}if(2===n)return!0;if(3===n&&(1===e.b||1===e.n))return!0;if(n===e.b+2){var a=0,f=r.length;for(o=0;o<f;o++)a+=r[o];if(0===a||a===f)return!0}return!1}function Z(){for(var e=[],r={},n=!1;;){var t=V();if(!t)break;e.push(t)}for(;;){var o=x().split(" ").slice(0,4).join(" ");if(r[o]=o in r?r[o]+1:1,r[o]>=3&&(n=!0),!e.length)break;J(e.pop())}return n}function J(e){var n=_,o=ne(n);if(function(e){T.push({move:e,kings:{b:E.b,w:E.w},turn:_,castling:{b:S.b,w:S.w},ep_square:A,half_moves:C,move_number:w})}(e),y[e.to]=y[e.from],y[e.from]=null,e.flags&d.EP_CAPTURE&&(_===r?y[e.to-16]=null:y[e.to+16]=null),e.flags&d.PROMOTION&&(y[e.to]={type:e.promotion,color:n}),y[e.to].type===a){if(E[y[e.to].color]=e.to,e.flags&d.KSIDE_CASTLE){var u=e.to-1,f=e.to+1;y[u]=y[f],y[f]=null}else if(e.flags&d.QSIDE_CASTLE){u=e.to+1,f=e.to-2;y[u]=y[f],y[f]=null}S[n]=""}if(S[n])for(var l=0,c=b[n].length;l<c;l++)if(e.from===b[n][l].square&&S[n]&b[n][l].flag){S[n]^=b[n][l].flag;break}if(S[o])for(l=0,c=b[o].length;l<c;l++)if(e.to===b[o][l].square&&S[o]&b[o][l].flag){S[o]^=b[o][l].flag;break}A=e.flags&d.BIG_PAWN?"b"===_?e.to-16:e.to+16:t,e.piece===i||e.flags&(d.CAPTURE|d.EP_CAPTURE)?C=0:C++,_===r&&w++,_=ne(_)}function V(){var e=T.pop();if(null==e)return null;var n=e.move;E=e.kings,_=e.turn,S=e.castling,A=e.ep_square,C=e.half_moves,w=e.move_number;var t,o,u=_,a=ne(_);if(y[n.from]=y[n.to],y[n.from].type=n.piece,y[n.to]=null,n.flags&d.CAPTURE)y[n.to]={type:n.captured,color:a};else if(n.flags&d.EP_CAPTURE){var f;f=u===r?n.to-16:n.to+16,y[f]={type:i,color:a}}n.flags&(d.KSIDE_CASTLE|d.QSIDE_CASTLE)&&(n.flags&d.KSIDE_CASTLE?(t=n.to+1,o=n.to-1):n.flags&d.QSIDE_CASTLE&&(t=n.to-2,o=n.to+1),y[t]=y[o],y[o]=null);return n}function X(e,r){var n=B(e);if(r){var t=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(t)var o=t[1],u=t[2],f=t[3],l=t[4]}var c=function(e){var r=e.charAt(0);if(r>="a"&&r<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return i}return"o"===(r=r.toLowerCase())?a:r}(n),s=null,p=Q({legal:!0,piece:o||c});if(s=p,r){var v=Q({legal:!1,piece:o||c});s=v}for(var g=0,h=s.length;g<h;g++){if(n===B(M(s[g],p))||r&&n===B(M(s[g],v)))return s[g];if(t&&(!o||o.toLowerCase()==s[g].piece)&&m[u]==s[g].from&&m[f]==s[g].to&&(!l||l.toLowerCase()==s[g].promotion))return s[g]}return null}function Y(e){return e>>4}function ee(e){return 15&e}function re(e){var r=ee(e),n=Y(e);return"abcdefgh".substring(r,r+1)+"87654321".substring(n,n+1)}function ne(e){return e===n?r:n}function te(e){var r=oe(e);r.san=M(r,Q({legal:!0})),r.to=re(r.to),r.from=re(r.from);var n="";for(var t in d)d[t]&r.flags&&(n+=h[t]);return r.flags=n,r}function oe(e){var r=e instanceof Array?[]:{};for(var n in e)r[n]="object"===typeof n?oe(e[n]):e[n];return r}function ie(e){return e.replace(/^\s+|\s+$/g,"")}function ue(e){for(var r=Q({legal:!1}),n=0,t=_,o=0,i=r.length;o<i;o++){if(J(r[o]),!W(t))if(e-1>0)n+=ue(e-1);else n++;V()}return n}return N("undefined"===typeof e?f:e),{WHITE:n,BLACK:r,PAWN:i,KNIGHT:"n",BISHOP:u,ROOK:"r",QUEEN:"q",KING:a,SQUARES:function(){for(var e=[],r=m.a8;r<=m.h1;r++)136&r?r+=7:e.push(re(r));return e}(),FLAGS:h,load:function(e){return N(e)},reset:function(){return L()},moves:function(e){for(var r=Q(e),n=[],t=0,o=r.length;t<o;t++)"undefined"!==typeof e&&"verbose"in e&&e.verbose?n.push(te(r[t])):n.push(M(r[t],Q({legal:!0})));return n},in_check:function(){return F()},in_checkmate:function(){return G()},in_stalemate:function(){return z()},in_draw:function(){return C>=100||z()||H()||Z()},insufficient_material:function(){return H()},in_threefold_repetition:function(){return Z()},game_over:function(){return C>=100||G()||z()||H()||Z()},validate_fen:function(e){return k(e)},fen:function(){return x()},board:function(){for(var e=[],r=[],n=m.a8;n<=m.h1;n++)null==y[n]?r.push(null):r.push({type:y[n].type,color:y[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e},pgn:function(e){var r="object"===typeof e&&"string"===typeof e.newline_char?e.newline_char:"\n",n="object"===typeof e&&"number"===typeof e.max_width?e.max_width:0,t=[],i=!1;for(var u in I)t.push("["+u+' "'+I[u]+'"]'+r),i=!0;i&&T.length&&t.push(r);for(var a=function(e){var r=P[x()];if("undefined"!==typeof r){var n=e.length>0?" ":"";e="".concat(e).concat(n,"{").concat(r,"}")}return e},f=[];T.length>0;)f.push(V());var l=[],c="";for(0===f.length&&l.push(a(""));f.length>0;){c=a(c);var s=f.pop();T.length||"b"!==s.color?"w"===s.color&&(c.length&&l.push(c),c=w+"."):c=w+". ...",c=c+" "+M(s,Q({legal:!1})),J(s)}if(c.length&&l.push(a(c)),"undefined"!==typeof I.Result&&l.push(I.Result),0===n)return t.join("")+l.join(" ");var p=function(){return t.length>0&&" "===t[t.length-1]&&(t.pop(),!0)},v=function(e,i){var u,a=o(i.split(" "));try{for(a.s();!(u=a.n()).done;){var f=u.value;if(f){if(e+f.length>n){for(;p();)e--;t.push(r),e=0}t.push(f),e+=f.length,t.push(" "),e++}}}catch(l){a.e(l)}finally{a.f()}return p()&&e--,e},g=0;for(u=0;u<l.length;u++)g+l[u].length>n&&l[u].includes("{")?g=v(g,l[u]):(g+l[u].length>n&&0!==u?(" "===t[t.length-1]&&t.pop(),t.push(r),g=0):0!==u&&(t.push(" "),g++),t.push(l[u]),g+=l[u].length);return t.join("")},load_pgn:function(e,r){var n="undefined"!==typeof r&&"sloppy"in r&&r.sloppy;function t(e){return e.replace(/\\/g,"\\")}var o="object"===typeof r&&"string"===typeof r.newline_char?r.newline_char:"\r?\n",i=new RegExp("^(\\[((?:"+t(o)+")|.)*\\])(?:"+t(o)+"){2}"),u=i.test(e)?i.exec(e)[1]:"";L();var a=function(e,r){for(var n="object"===typeof r&&"string"===typeof r.newline_char?r.newline_char:"\r?\n",o={},i=e.split(new RegExp(t(n))),u="",a="",f=0;f<i.length;f++)u=i[f].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),a=i[f].replace(/^\[[A-Za-z]+\s"(.*)"\ *\]$/,"$1"),ie(u).length>0&&(o[u]=a);return o}(u,r);for(var f in a)q([f,a[f]]);if("1"===a.SetUp&&(!("FEN"in a)||!N(a.FEN,!0)))return!1;for(var c=function(e){return e=e.replace(new RegExp(t(o),"g")," "),"{".concat(function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/\%/g,"").toLowerCase()})).join("")}(e.slice(1,e.length-1)),"}")},s=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+e.match(/.{1,2}/g).join("%"))}(e.slice(1,e.length-1))},p=e.replace(u,"").replace(new RegExp("({[^}]*})+?|;([^".concat(t(o),"]*)"),"g"),(function(e,r,n){return void 0!==r?c(r):" "+c("{".concat(n.slice(1),"}"))})).replace(new RegExp(t(o),"g")," "),v=/(\([^\(\)]+\))+?/g;v.test(p);)p=p.replace(v,"");var g=ie(p=(p=(p=p.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));g=g.join(",").replace(/,,+/g,",").split(",");for(var h="",d=0;d<g.length-1;d++){var m=s(g[d]);if(void 0===m){if(null==(h=X(g[d],n)))return!1;J(h)}else P[x()]=m}if(void 0!==(m=s(g[g.length-1]))&&(P[x()]=m,g.pop()),h=g[g.length-1],l.indexOf(h)>-1)(function(e){for(var r in e)return!0;return!1})(I)&&"undefined"===typeof I.Result&&q(["Result",h]);else{if(null==(h=X(h,n)))return!1;J(h)}return!0},header:function(){return q(arguments)},ascii:function(){return function(){for(var e="   +------------------------+\n",r=m.a8;r<=m.h1;r++){if(0===ee(r)&&(e+=" "+"87654321"[Y(r)]+" |"),null==y[r])e+=" . ";else{var t=y[r].type;e+=" "+(y[r].color===n?t.toUpperCase():t.toLowerCase())+" "}r+1&136&&(e+="|\n",r+=8)}return e+="   +------------------------+\n",e+"     a  b  c  d  e  f  g  h\n"}()},turn:function(){return _},move:function(e,r){var n="undefined"!==typeof r&&"sloppy"in r&&r.sloppy,t=null;if("string"===typeof e)t=X(e,n);else if("object"===typeof e)for(var o=Q(),i=0,u=o.length;i<u;i++)if(e.from===re(o[i].from)&&e.to===re(o[i].to)&&(!("promotion"in o[i])||e.promotion===o[i].promotion)){t=o[i];break}if(!t)return null;var a=te(t);return J(t),a},undo:function(){var e=V();return e?te(e):null},clear:function(){return O()},put:function(e,r){return j(e,r)},get:function(e){return U(e)},remove:function(e){return function(e){var r=U(e);return y[m[e]]=null,r&&r.type===a&&(E[r.color]=t),D(x()),r}(e)},perft:function(e){return ue(e)},square_color:function(e){if(e in m){var r=m[e];return(Y(r)+ee(r))%2===0?"light":"dark"}return null},history:function(e){for(var r=[],n=[],t=("undefined"!==typeof e&&"verbose"in e&&e.verbose);T.length>0;)r.push(V());for(;r.length>0;){var o=r.pop();t?n.push(te(o)):n.push(M(o,Q({legal:!0}))),J(o)}return n},get_comment:function(){return P[x()]},set_comment:function(e){P[x()]=e.replace("{","[").replace("}","]")},delete_comment:function(){var e=P[x()];return delete P[x()],e},get_comments:function(){return R(),Object.keys(P).map((function(e){return{fen:e,comment:P[e]}}))},delete_comments:function(){return R(),Object.keys(P).map((function(e){var r=P[e];return delete P[e],{fen:e,comment:r}}))}}};r.Chess=i,void 0===(t=function(){return i}.call(r,n,r,e))||(e.exports=t)},function(e,r,n){"use strict";n.r(r);var t=n(0),o=new(n.n(t).a),i=0,u=function(){self.postMessage({msg:"progress",value:i.toFixed(2)})};self.onmessage=function(e){if("generate"===e.data.msg&&e.data.maxDepth>0&&e.data.gameState){if(o.load(e.data.gameState)){i=0;var r=function(e,r){var n=function(e,r){return 0!==r?1*r/e:1/e};return function e(t,a){var f,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=[];return++t===r?(i+=l,a):(t<=3&&u(),f=o.turn(),(c=o.moves()).forEach((function(r,i){var u={side:f,move:r,children:[]};a.children.push(u),o.move(r),e(t,u,n(c.length,l)),o.undo()})),t--,a)}(0,e)}({children:[]},e.data.maxDepth);return self.postMessage({msg:"moveTree",value:r}),void u()}throw new Error("game state is incorrect. Please check fen string")}}},function(e,r,n){var t=n(3);e.exports=function(e,r){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=t(e))||r&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,f=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){f=!0,u=e},f:function(){try{a||null==n.return||n.return()}finally{if(f)throw u}}}}},function(e,r,n){var t=n(4);e.exports=function(e,r){if(e){if("string"===typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}},function(e,r){e.exports=function(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}}]);
//# sourceMappingURL=treeGenerator.worker.c88a1ed5.worker.js.map